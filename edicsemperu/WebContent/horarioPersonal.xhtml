<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
  xmlns:h="http://java.sun.com/jsf/html"
  xmlns:f="http://java.sun.com/jsf/core"
  xmlns:ui="http://java.sun.com/jsf/facelets"
  xmlns:p="http://primefaces.org/ui" template="/layout/template.xhtml">
  <ui:define name="body">
  <h1 class="title ui-widget-header ui-corner-all">Horario del Personal</h1>
<h:form id="horarioPersonal">
<p:fieldset legend="Buscar Personal" style="margin-top:20px">
<h:panelGrid columns="2">
<h:outputText value="Cargo :" />
<p:selectOneMenu id="cargo" value="#{comboAction.cargoEmpleado}" styleClass="required" title="El tipo es obligatorio!" >
<f:selectItem  itemValue="#{null}" itemLabel="Seleccione una opciÃ³n"/>
<f:selectItems  value="#{comboAction.cargoEmpleadoItems}" />
 <p:ajax update="empleado"  listener="#{comboAction.cambiar2}" />  
</p:selectOneMenu>
<h:outputText value="Empleado :" />
<p:selectOneMenu id="empleado" value="#{horarioPersonal.idempleado}" styleClass="required" title="El tipo es obligatorio!" >
<f:selectItem  itemValue="#{null}" itemLabel="Seleccione"/>
<f:selectItems  value="#{comboAction.empleadoxcargo}" />
</p:selectOneMenu>
<p:commandButton value="Buscar" ajax="false" action="#{horarioPersonal.mostrar}" />
</h:panelGrid>
</p:fieldset>
<p:fieldset legend="Registrar nuevo Horario" style="margin-top:20px">

<p:commandButton  value="Agregar" action="#{horarioPersonal.agregarhorario}" 
oncomplete="horarioDialog.show()"  update=":formManteHorario:display"  />
<p:spacer></p:spacer>
<p:dataTable var="h" value="#{horarioPersonal.listaHorario}" id="carList" editable="true">
        <f:facet name="header">
            Prueba
        </f:facet>
        <p:ajax event="rowEdit" listener="#{horarioPersonal.onEdit}"  />
        <p:ajax event="rowEditCancel" listener="#{horarioPersonal.onCancel}"  />
        <p:column headerText="Dia" style="width:125px">
            <p:cellEditor>
                <f:facet name="output">
                    <h:outputText value="#{h.tbFecha.dia}" />
                </f:facet>
                <f:facet name="input">
                    <p:inputText value="#{h.tbFecha.dia}" style="width:100%"/>
                </f:facet>
            </p:cellEditor>
        </p:column>
        <p:column headerText="Entrada" style="width:125px">
            <p:cellEditor>
                <f:facet name="output">
                    <h:outputText value="#{h.horaIngreso}" />
                </f:facet>
                <f:facet name="input">
                    <p:inputText value="#{h.horaIngreso}" style="width:100%" label="Year"/>
                </f:facet>
            </p:cellEditor>
        </p:column>
        <p:column headerText="Salida" style="width:125px">
            <p:cellEditor>
                <f:facet name="output">
                    <h:outputText value="#{h.horaSalida}" />
                </f:facet>
                <f:facet name="input">
                     <p:inputText value="#{h.horaSalida}" style="width:100%" label="Year"/>
                </f:facet>
            </p:cellEditor>
        </p:column>
       
         
        <p:column headerText="Options" style="width:50px">
            <p:rowEditor />
        </p:column>
    </p:dataTable>
</p:fieldset>
<p:fieldset legend="Visualizar Horario" style="margin-top:20px">
<p:growl id="messages" showDetail="true" />
    <p:schedule value="#{horarioPersonal.eventModel}" />  
</p:fieldset>
</h:form>
</ui:define>
</ui:composition>