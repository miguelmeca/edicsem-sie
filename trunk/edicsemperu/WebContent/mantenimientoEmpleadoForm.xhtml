<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/layout/template.xhtml">
	<ui:define name="body">
		<h:form id="form">
	<p:panel header="Registrar Empleado"  id="panel">
	    <p:growl/>
	    <p:wizard id="wiz" widgetVar="wiz" flowListener="#{mantenimientoEmpleadoFormAction.onFlowProcess}">
	    <p:tab title="Personal">
	    <p:panel header="Datos Personales"> 
	    <h:messages errorClass="error"/>  
        <h:panelGrid columns="2" cellpadding="5">						
			<p:outputLabel value="#{message['empleado.nombre']}" for="nombre" />
			<p:inputText id="nombre" value="#{mantenimientoEmpleadoFormAction.objEmpleado.nombreemp}" required="true" label="Nombre" 
			requiredMessage="#{message['empleado.nombre.validation']}"/>
			<p:outputLabel value="#{message['empleado.apepaterno']}" for="apepaterno" />
			<p:inputText id="apepaterno" value="#{mantenimientoEmpleadoFormAction.objEmpleado.apepatemp}" required="true" label="Apellido paterno"
			requiredMessage="#{message['empleado.apepaterno.validation']}"/>
			<p:outputLabel value="#{message['empleado.apematerno']}" for="apematerno" />
			<p:inputText id="apematerno" value="#{mantenimientoEmpleadoFormAction.objEmpleado.apematemp}" required="true" label="Apellido materno"
			requiredMessage="#{message['empleado.apematerno.validation']}"/>						
			<p:outputLabel value="#{message['empleado.usuario']}" for="usuario" />
			<p:inputText id="usuario" value="#{mantenimientoEmpleadoFormAction.objEmpleado.usuario}" required="true" label="Usuario" 
			requiredMessage="#{message['empleado.usuario.validation']}"/>
		    <p:outputLabel value="#{message['empleado.contrasena']}" for="contrasenya" />
			<p:password id="contrasenya" value="#{mantenimientoEmpleadoFormAction.objEmpleado.contrasena}" required="true" label="Contrasenya"
			requiredMessage="#{message['empleado.contrasenya.validation']}"/>
			<p:outputLabel value="#{message['empleado.confcontra']}" for="confcontra" />
			<p:password id="confcontra" value="#{mantenimientoEmpleadoFormAction.confcontra}" required="true" label="Confcontra"
			requiredMessage="#{message['empleado.confcontra.validation']}"/>
			<p:outputLabel for="tipo" value="Tipo de Doc. :" styleClass="textoAzulFuerteGrande" id="tipoL"/>
            <p:selectOneMenu id="tipo" value="#{mantenimientoEmpleadoFormAction.tipoDocumento}" styleClass="required" title="El tipo es obligatorio!" >
            <f:selectItems  value="#{comboAction.tipoDocumentoitems}" />
            <p:ajax update="nrodoc"></p:ajax>
            </p:selectOneMenu>
            <h:outputText value="#{message['empleado.nrodoc']}" />
            <h:panelGroup id="nrodoc" >
			<p:inputMask value="#{mantenimientoEmpleadoFormAction.objEmpleado.numdocumento}" mask="99999999"
					rendered="#{mantenimientoEmpleadoFormAction.tipoDocumento==1}"
					required="true" label="nrodoc"
					requiredMessage="#{message['empleado.nrodoc.validation']}" />
					
			<p:inputMask value="#{mantenimientoEmpleadoFormAction.objEmpleado.numdocumento}" mask="99999999999"
					rendered="#{mantenimientoEmpleadoFormAction.tipoDocumento==2}"/>
            </h:panelGroup>
                          
            <p:outputLabel value="#{message['empleado.fechanac']}" for="fechanac" />
			<p:calendar pagedate="-8380" value="#{mantenimientoEmpleadoFormAction.objEmpleado.fechanacimiento}" id="fechanac" showButtonPanel="true" required="true"  pattern="dd/mm/yyyy"
			label="Fecha de nacimiento" requiredMessage="#{message['empleado.fechanac.validation']}"/>                  
            
			</h:panelGrid>
			</p:panel>
        </p:tab>
        <p:tab title="Números Telefónicos">
        <p:panel header="Números Telefónicos">
        <h:messages errorClass="error"/>  
        <h:panelGrid columns="2" cellpadding="5">
            <p:outputLabel value="#{message['empleado.fijo']}" for="fijo" />
			<p:inputMask mask="999-9999" id="fijo" value="#{mantenimientoEmpleadoFormAction.fijo}" required="true" label="Fijo"
			requiredMessage="#{message['empleado.fijo.validation']}"/>                        
            
        </h:panelGrid>
        </p:panel>
        </p:tab>
        <p:tab title="Dirección">
        <p:panel header="Dirección">
        <h:messages errorClass="error"/>  
        <h:panelGrid columns="2" cellpadding="5">	
         <p:outputLabel value="#{message['domicilio.direccion']}" for="domicilio" />
			<p:inputText id="domicilio" value="#{mantenimientoEmpleadoFormAction.objDomicilio.domicilio}" required="true" label="Domicilio"
			requiredMessage="#{message['domicilio.direccion.validation']}"/>  			    
		    <h:outputText value="Ubigeo :" />    
		    
			<h:outputText value="Indicar otro Distrito" />  
			<p:selectBooleanCheckbox id="sel" value="#{mantenimientoEmpleadoFormAction.defectoUbigeo}">
			<p:ajax update="ubigeoDefecto" listener="#{mantenimientoEmpleadoFormAction.cambioUbigeoDefecto}" 
			oncomplete="if(#{mantenimientoEmpleadoFormAction.defectoUbigeo}) UbigeoEmpDialog.show()"></p:ajax>
			</p:selectBooleanCheckbox>
			
			<h:outputText value="#{message['contrato.ubigeo.distrito']}" rendered="#{mantenimientoEmpleadoFormAction.defectoUbigeo}" />
			<p:selectOneMenu  value="#{mantenimientoEmpleadoFormAction.idUbigeo}" filter="true" filterMatchMode="startsWith" rendered="#{mantenimientoEmpleadoFormAction.defectoUbigeo}"
			required="true" effect="fade"	style="width:200px" id="idubigeoDistrito" requiredMessage="#{message['contrato.ubigeo.distrito.validation']}">
			<f:selectItem itemLabel="Seleccione Distrito" itemValue="#{null}" />
			<f:selectItems value="#{comboAction.ubigeoDistriItems}" />
			<p:ajax update="ubigeoDefecto" listener="#{mantenimientoEmpleadoFormAction.cambioUbica}"></p:ajax>
			</p:selectOneMenu>
            <p:message for="idubigeoDistrito" rendered="#{mantenimientoEmpleadoFormAction.defectoUbigeo}"/>
			<h:outputText id="ubigeoDefecto" value="#{mantenimientoEmpleadoFormAction.ubigeoDefecto}" />
			
			<p:outputLabel for="tipocasa" value="Tipo de Casa :" styleClass="textoAzulFuerteGrande" id="tipocasaL"/>
            <p:selectOneMenu id="tipocasa" value="#{mantenimientoEmpleadoFormAction.tipo}" styleClass="required" title="El tipo de casa es obligatorio!" >
            <f:selectItem  itemValue="#{null}" itemLabel="Seleccione una opción"/>
            <f:selectItems value="#{comboAction.tipocasaItems}" />
			<p:ajax update="ubigeoDefecto" listener="#{mantenimientoEmpleadoFormAction.cambioUbica}"></p:ajax>
            </p:selectOneMenu>
           </h:panelGrid>
            </p:panel>
        </p:tab>
         <p:tab title="Contrato Empleado" id="contemp"  >
         <p:panel id="panlcont" header="Datos Contrato">
         
        <h:messages errorClass="error"/>  
           <h:panelGrid columns="2" id="panelPagos" >
            <h:outputText value="Fecha Inicio :" />
            <p:calendar value="#{mantenimientoEmpleadoFormAction.fechaInicioContrato}" />
            <h:outputText value="Cargo(s) :" />
            <p:selectOneMenu value="#{mantenimientoEmpleadoFormAction.idCargo}" label="Seleccione" filter="true" filterText="Filter" filterMatchMode="startsWith" panelStyle="width:300px">  
            <f:selectItems value="#{comboAction.cargoEmpleadoItems}" />
            </p:selectOneMenu>
            <p:outputLabel  value="Tipo de Pago:" for="tipopago" />
            <p:selectOneMenu id="tipopago" value="#{mantenimientoEmpleadoFormAction.idTipoPago}">
            <f:selectItems value="#{comboAction.tipoPagoItems}"/>
            </p:selectOneMenu>
            <h:outputText value="Básico :" />
            <p:inputText value="#{mantenimientoEmpleadoFormAction.objContratoEmpleado.basico}"/> 
            <h:outputText value="Periodo de Prueba:" />
            <p:inputText value="#{mantenimientoEmpleadoFormAction.objContratoEmpleado.periodoPrueba}"/> 
            <p:commandButton value="Agregar" update="panelPagos" action="#{mantenimientoEmpleadoFormAction.agregarPago}" icon="ui-icon-check"/>
           
            	<p:dataTable value="#{mantenimientoEmpleadoFormAction.contratoEmpleadoList}" var="c"  >
						<p:column headerText="Cargo" >
							<h:outputText value="#{c.tbCargoempleado.descripcion}" />
						</p:column>
						<p:column headerText="Fecha Inicio" >
							<h:outputText value="#{c.fechaInicioContrato}" />
						</p:column>
						<p:column headerText="Sueldo" >
							<h:outputText value="#{c.basico}" />
						</p:column>
				</p:dataTable>
			</h:panelGrid> 
            <p:commandButton id="btngu" value="Guardar" update="panel" actionListener="#{mantenimientoEmpleadoFormAction.insertar}" ajax="false" icon="ui-icon-check">
            </p:commandButton>
            <p:commandButton id="btnreg" value="Regresar" action="#{mantenimientoEmpleadoSearchAction.listar}" immediate="true" ajax = "false" icon="ui-icon ui-icon-close"/> 
			</p:panel>
        </p:tab>
        </p:wizard>
	</p:panel>	            
	</h:form>
	</ui:define>
</ui:composition>